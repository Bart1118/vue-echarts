{"remainingRequest":"C:\\Users\\atom\\Desktop\\大数据\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\atom\\Desktop\\大数据\\vue\\src\\components\\charts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\atom\\Desktop\\大数据\\vue\\src\\components\\charts.vue","mtime":1595415183903},{"path":"C:\\Users\\atom\\Desktop\\大数据\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\atom\\Desktop\\大数据\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\atom\\Desktop\\大数据\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\atom\\Desktop\\大数据\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n\nexport default {\n    data () {\n        return {\n            weatherDataMax:[],\n            weatherDataMin:[],\n            weatherDataMean:[],\n            listMax:{},\n            listMin:{},\n            listMean:{},\n            year:[],\n            myChart:null,\n            option :{\n                title: {\n                    text: '气温变化',\n                    subtext: '基于Hadoop大数据'\n                },\n                tooltip: {\n                    trigger: 'axis'\n                },\n                legend: {\n                    data: ['最高气温', '最低气温','平均气温']\n                },\n                toolbox: {\n                    show: true,\n                    feature: {\n                        dataZoom: {\n                            yAxisIndex: 'none'\n                        },\n                        dataView: {readOnly: false},\n                        magicType: {type: ['line', 'bar']},\n                        restore: {},\n                        saveAsImage: {}\n                    }\n                },\n                xAxis: {\n                    type: 'category',\n                    boundaryGap: false,\n                    data: []\n                },\n                yAxis: {\n                    type: 'value',\n                    axisLabel: {\n                        formatter: '{value} °C'\n                    }\n                },\n                series: [\n                    {\n                        name: '最高气温',\n                        type: 'line',\n                        data: [],\n                        markPoint: {\n                            data: [\n                                {type: 'max', name: '最大值'},\n                                {type: 'min', name: '最小值'}\n                            ]\n                        },\n                        markLine: {\n                            data: [\n                                {type: 'average', name: '平均值'}\n                            ]\n                        }\n                    },\n                    {\n                        name: '最低气温',\n                        type: 'line',\n                        data: [],\n                        markPoint: {\n                            data: [\n                                {type: 'max', name: '最大值'},\n                                {type: 'min', name: '最小值'}\n                            ]\n                        },\n                        markLine: {\n                            data: [\n                                {type: 'average', name: '平均值'}\n                            ]\n                        }\n                    },\n                    {\n                        name: '平均气温',\n                        type: 'line',\n                        data: [],\n                        markPoint: {\n                            data: [\n                                {type: 'max', name: '最大值'},\n                                {type: 'min', name: '最小值'}\n                            ]\n                        },\n                        markLine: {\n                            data: [\n                                {type: 'average', name: '平均值'}\n                            ]\n                        }\n                    }\n                ]\n            }\n        }\n    },\n    mounted(){\n        // 由于已经导入了 Vue-resource这个包，所以 ，可以直接通过  this.$http 来发起数据请求\n        this.getEchartData()\n    },\n    watch: {\n        //观察option的变化\n        option: {\n            handler(newVal, oldVal) {\n                if (this.myChart) {\n                    if (newVal) {\n                        this.myChart.setOption(newVal);\n                    } else {\n                        this.myChart.setOption(oldVal);\n                    }\n                } else {\n                    this.init();\n                }\n            },\n            deep: true //对象内部属性的监听，关键。\n        }\n    },\n    methods: {\n        getEchartData () {\n            this.$http.get('http://localhost:80/temperature/max').then(response => {\n                this.listMax=response.body.data\n                for(let i in this.listMax){\n                    this.year.push(i)\n                    this.weatherDataMax.push(this.listMax[i])\n                }\n                window.console.log(this.year)\n                window.console.log(this.weatherDataMax)\n            },function (err) {\n                window.console.log(err)\n            })\n            this.$http.get('http://localhost:80/temperature/min').then(response => {\n                this.listMin = response.body.data\n                for(let i in this.listMin){\n                    this.weatherDataMin.push(this.listMin[i])\n                }\n                window.console.log(this.weatherDataMin)\n            },function (err) {\n                window.console.log(err)\n            })\n            this.$http.get('http://localhost:80/temperature/mean').then(response => {\n                this.listMean = response.body.data\n                for(let i in this.listMean){\n                    this.weatherDataMean.push(this.listMean[i])\n                }\n                window.console.log(this.weatherDataMean)\n            },function (err) {\n                window.console.log(err)\n            })\n            this.option.xAxis.data = this.year;\n            this.option.series[0].data = this.weatherDataMax;\n            this.option.series[1].data = this.weatherDataMin;\n            this.option.series[2].data = this.weatherDataMean;\n            let chart = this.$refs.chart\n            this.myChart = this.$echarts.init(chart)\n            this.myChart.setOption(this.option,true)\n        }\n    }\n}\n",{"version":3,"sources":["charts.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"charts.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div ref=\"chart\" style=\"width:100%;height:376px\"></div>\r\n    <div ref=\"chart2\" style=\"width:100%;height:376px\"></div>\r\n</template>\r\n<script>\r\n    export default {\r\n        data () {\r\n            return {\r\n                weatherDataMax:[],\r\n                weatherDataMin:[],\r\n                weatherDataMean:[],\r\n                listMax:{},\r\n                listMin:{},\r\n                listMean:{},\r\n                year:[],\r\n                myChart:null,\r\n                option :{\r\n                    title: {\r\n                        text: '气温变化',\r\n                        subtext: '基于Hadoop大数据'\r\n                    },\r\n                    tooltip: {\r\n                        trigger: 'axis'\r\n                    },\r\n                    legend: {\r\n                        data: ['最高气温', '最低气温','平均气温']\r\n                    },\r\n                    toolbox: {\r\n                        show: true,\r\n                        feature: {\r\n                            dataZoom: {\r\n                                yAxisIndex: 'none'\r\n                            },\r\n                            dataView: {readOnly: false},\r\n                            magicType: {type: ['line', 'bar']},\r\n                            restore: {},\r\n                            saveAsImage: {}\r\n                        }\r\n                    },\r\n                    xAxis: {\r\n                        type: 'category',\r\n                        boundaryGap: false,\r\n                        data: []\r\n                    },\r\n                    yAxis: {\r\n                        type: 'value',\r\n                        axisLabel: {\r\n                            formatter: '{value} °C'\r\n                        }\r\n                    },\r\n                    series: [\r\n                        {\r\n                            name: '最高气温',\r\n                            type: 'line',\r\n                            data: [],\r\n                            markPoint: {\r\n                                data: [\r\n                                    {type: 'max', name: '最大值'},\r\n                                    {type: 'min', name: '最小值'}\r\n                                ]\r\n                            },\r\n                            markLine: {\r\n                                data: [\r\n                                    {type: 'average', name: '平均值'}\r\n                                ]\r\n                            }\r\n                        },\r\n                        {\r\n                            name: '最低气温',\r\n                            type: 'line',\r\n                            data: [],\r\n                            markPoint: {\r\n                                data: [\r\n                                    {type: 'max', name: '最大值'},\r\n                                    {type: 'min', name: '最小值'}\r\n                                ]\r\n                            },\r\n                            markLine: {\r\n                                data: [\r\n                                    {type: 'average', name: '平均值'}\r\n                                ]\r\n                            }\r\n                        },\r\n                        {\r\n                            name: '平均气温',\r\n                            type: 'line',\r\n                            data: [],\r\n                            markPoint: {\r\n                                data: [\r\n                                    {type: 'max', name: '最大值'},\r\n                                    {type: 'min', name: '最小值'}\r\n                                ]\r\n                            },\r\n                            markLine: {\r\n                                data: [\r\n                                    {type: 'average', name: '平均值'}\r\n                                ]\r\n                            }\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n        mounted(){\r\n            // 由于已经导入了 Vue-resource这个包，所以 ，可以直接通过  this.$http 来发起数据请求\r\n            this.getEchartData()\r\n        },\r\n        watch: {\r\n            //观察option的变化\r\n            option: {\r\n                handler(newVal, oldVal) {\r\n                    if (this.myChart) {\r\n                        if (newVal) {\r\n                            this.myChart.setOption(newVal);\r\n                        } else {\r\n                            this.myChart.setOption(oldVal);\r\n                        }\r\n                    } else {\r\n                        this.init();\r\n                    }\r\n                },\r\n                deep: true //对象内部属性的监听，关键。\r\n            }\r\n        },\r\n        methods: {\r\n            getEchartData () {\r\n                this.$http.get('http://localhost:80/temperature/max').then(response => {\r\n                    this.listMax=response.body.data\r\n                    for(let i in this.listMax){\r\n                        this.year.push(i)\r\n                        this.weatherDataMax.push(this.listMax[i])\r\n                    }\r\n                    window.console.log(this.year)\r\n                    window.console.log(this.weatherDataMax)\r\n                },function (err) {\r\n                    window.console.log(err)\r\n                })\r\n                this.$http.get('http://localhost:80/temperature/min').then(response => {\r\n                    this.listMin = response.body.data\r\n                    for(let i in this.listMin){\r\n                        this.weatherDataMin.push(this.listMin[i])\r\n                    }\r\n                    window.console.log(this.weatherDataMin)\r\n                },function (err) {\r\n                    window.console.log(err)\r\n                })\r\n                this.$http.get('http://localhost:80/temperature/mean').then(response => {\r\n                    this.listMean = response.body.data\r\n                    for(let i in this.listMean){\r\n                        this.weatherDataMean.push(this.listMean[i])\r\n                    }\r\n                    window.console.log(this.weatherDataMean)\r\n                },function (err) {\r\n                    window.console.log(err)\r\n                })\r\n                this.option.xAxis.data = this.year;\r\n                this.option.series[0].data = this.weatherDataMax;\r\n                this.option.series[1].data = this.weatherDataMin;\r\n                this.option.series[2].data = this.weatherDataMean;\r\n                let chart = this.$refs.chart\r\n                this.myChart = this.$echarts.init(chart)\r\n                this.myChart.setOption(this.option,true)\r\n            }\r\n        }\r\n    }\r\n</script>"]}]}